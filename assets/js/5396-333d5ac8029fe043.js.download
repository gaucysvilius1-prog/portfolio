try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f2c343f9-ae3e-437b-a857-7e227780579f",e._sentryDebugIdIdentifier="sentry-dbid-f2c343f9-ae3e-437b-a857-7e227780579f")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5396],{95396:function(e,t,n){n.d(t,{x:function(){return ey}});var a=n(52322),s=n(752),o=n(80006),i=n(26163),r=n(61463),l=n(47235),c=n(28237),d=n(99205),u=n(46249),h=n(31260),p=n(96577),f=n.n(p);function g(e){let{className:t,color:n="#FFFFFFCC",animate:s}=e;return(0,a.jsx)("div",{style:{backgroundImage:"linear-gradient(145deg, transparent 0%, transparent 30%, ".concat(n," 50%, transparent 70%, transparent 100%)"),backgroundSize:"200% 200%",backgroundRepeat:"no-repeat"},className:(0,r.Z)("pointer-events-none absolute inset-0 bg-[120%_120%] group-hover/shimmer-trigger:bg-[-100%_-100%] group-hover/shimmer-trigger:[transition:background-position_550ms_ease-in-out]",s&&"animate-shimmer",t)})}function m(e){let{content:t,children:n,className:s}=e;return(0,a.jsxs)("div",{className:(0,r.Z)("group/tooltip relative size-full",s),children:[n,t&&(0,a.jsxs)("div",{className:(0,r.Z)("pointer-events-none absolute left-1/2 top-full z-50 -translate-x-1/2 -translate-y-4 rounded-xl opacity-0 shadow-hard-md transition-all","group-hover/tooltip:opacity-100"),children:[(0,a.jsx)("div",{className:"absolute left-1/2 top-[-10px] z-40 size-5 -translate-x-1/2 rotate-45 rounded-tl bg-graphite-0"}),(0,a.jsx)("div",{className:"relative z-50 w-[170px] rounded-xl bg-graphite-0 px-3 py-2 text-center text-xs font-medium text-graphite-100",children:t})]})]})}var y=n(85210),x=n(50876),b=n(2402),v=n(93218);let w={uniqueSellingPoint:"unique selling point",personality:"brand personality",toneOfVoice:"tone of voice",contentPillars:"content pillars",socialStrategy:"social strategy",colorPalette:"color palette",fontSet:"font pairing"};function j(e){var t,n;let{status:s,asset:o,started:i}=e,l=(0,v.D)(s),c=(0,v.D)(null==o?void 0:o.value),d="string"==typeof c&&c!==(null==o?void 0:o.value),u="in_progress"===l||d,h=()=>(null==o?void 0:o.asset)?i?"unlocked"===s?"Your ".concat(w[o.asset],"."):"locked"===s||"in_progress"===s?"Keep chatting with Brandi to define your ".concat(w[o.asset],"."):"":"Start chatting with Brandi to define your ".concat(w[o.asset],"."):"";if("unlocked"===s){let e={uniqueSellingPoint:b.xl.Usp,personality:b.xl.Personality,toneOfVoice:b.xl.Tov,socialStrategy:b.xl.SocialStrategy,contentPillars:b.xl.ContentPillars,colorPalette:null,fontSet:null}[(null==o?void 0:o.asset)||"uniqueSellingPoint"];return(0,a.jsx)("div",{style:{gridArea:(null==o?void 0:o.asset)||"uniqueSellingPoint"},className:"group/asset-list-item text-center",children:(0,a.jsx)(m,{className:"flex-1",content:h(),children:(0,a.jsxs)("div",{className:(0,r.Z)("group/shimmer-trigger relative z-10 flex size-full flex-col items-center justify-center gap-2 rounded-2xl bg-embermist",!(null==o?void 0:o.component)&&"min-h-[190px] p-8"),children:[e&&(0,a.jsx)(f(),{"aria-hidden":!0,src:e,alt:(null==o?void 0:o.asset)||"uniqueSellingPoint",width:24,height:24,className:"size-6"}),(0,a.jsx)("p",{className:(0,r.Z)("hidden items-center gap-1 text-center",(null==o?void 0:null===(t=o.value)||void 0===t?void 0:t.trim())&&"flex"),children:(0,a.jsx)(y.V,{animate:u,text:(null==o?void 0:o.value)||""},"text-".concat(null==o?void 0:o.value))}),(null==o?void 0:o.component)&&o.component,!(null==o?void 0:o.component)&&(0,a.jsx)(g,{animate:u},"shimmer-".concat(null==o?void 0:o.value))]})})},null==o?void 0:o.value)}return"locked"===s||"in_progress"===s?(0,a.jsx)(e=>(0,a.jsx)("div",{style:{gridArea:(null==o?void 0:o.asset)||"uniqueSellingPoint"},className:"group/asset-list-item text-center",children:(0,a.jsx)(m,{className:"flex-1",content:h(),children:e.children})}),{children:(0,a.jsxs)("div",{className:(0,r.Z)("relative flex size-full min-h-[190px] items-center justify-center overflow-hidden rounded-2xl p-6 transition-colors duration-300",{"bg-graphite-5 text-graphite-40":"locked"===s,"bg-embermist text-[#FA5729]":"in_progress"===s,"rounded-b-sm":"in_progress"===s}),children:[(0,a.jsx)("p",{className:"flex flex-col items-center gap-1",children:"locked"===s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Wi,{className:"size-6 text-graphite-40"})," ",(0,a.jsx)("span",{className:"first-letter:uppercase",children:(null==o?void 0:o.asset)?w[null==o?void 0:o.asset]:""})]}):(0,a.jsxs)(a.Fragment,{children:["Finding your ",(null==o?void 0:o.asset)?w[null==o?void 0:o.asset]:"","..."]})}),"in_progress"===s&&(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-2 overflow-hidden bg-sand",children:(0,a.jsx)("div",{style:{width:"".concat(Math.min(null!==(n=null==o?void 0:o.progress)&&void 0!==n?n:0,100),"%"),transition:"width 0.3s ease-in-out"},className:"absolute inset-y-0 left-0 bg-gradient-to-r from-[#FF8664]/80 from-0% via-[#f5e3d2] via-60% to-[#FF8664] to-100%"})})]})}):null}var N=n(1675),k=n(19432);let T=(0,n(19621).x3)(),S='\n"'.concat((0,u.rx)("uniqueSellingPoint",5),'"\n"').concat((0,u.rx)("personality",3)," ").concat((0,u.rx)("toneOfVoice",2),'"\n"').concat((0,u.rx)("socialStrategy",2)," ").concat((0,u.rx)("contentPillars",3),'"\n"').concat((0,u.rx)("colorPalette",3)," ").concat((0,u.rx)("fontSet",2),'"\n');function O(){let{chat:e,assets:t=[],visualAssets:n}=(0,o.wd)(),i=null==e?void 0:e.messages.some(e=>"user"===e.role),u=l.I9.options,[p]=(0,s.KO)(o.Pk),{mutate:f,isLoading:g}=T.useMutation("Brand.convertFonts",{onSuccess:(e,t)=>{(0,k.i2)("".concat(t.join("_"),".zip"),e)}}),m=p?S:[...u,"colorPalette","fontSet"].map(e=>'"'.concat(e,'"')).join("\n");return(0,a.jsxs)("aside",{id:"brandi-asset-list",className:"hidden min-w-[360px] gap-3 overflow-x-hidden overflow-y-scroll rounded-2xl bg-graphite-0 p-4 pb-8 ring-1 ring-graphite-10 @laptop:grid",style:{gridTemplateAreas:m},children:[u.map(n=>{var s,o;let r=function(e,t){for(let n=e.length-1;n>=0;n-=1){let a=e[n].parts.findLast(e=>"tool-estimateAssetProgress"===e.type&&("input-available"===e.state||"output-available"===e.state)&&e.input.asset===t);if(a&&"tool-estimateAssetProgress"===a.type&&("input-available"===a.state||"output-available"===a.state))return a.input.progress}return 0}(null!==(o=null==e?void 0:e.messages)&&void 0!==o?o:[],n),l=t.some(e=>e.asset===n)?"unlocked":r>0&&r<=100?"in_progress":"locked",c=null===(s=t.findLast(e=>e.asset===n))||void 0===s?void 0:s.value;return(0,a.jsx)(j,{status:l,started:i,asset:{asset:n,value:c,progress:r}},n)}),(0,a.jsx)(j,{status:n.colorPalette?"unlocked":"locked",started:i,asset:{asset:"colorPalette",component:n.colorPalette?(0,a.jsx)("div",{className:"size-full overflow-hidden rounded-xl ring-1 ring-graphite-100/10",children:(0,a.jsx)(c.V,{showColorCodes:p,palette:n.colorPalette,className:(0,r.Z)("h-full w-full",!p&&"h-40")})}):null}},"colorPalette"),(0,a.jsx)(j,{status:n.fontSet?"unlocked":"locked",started:i,asset:{asset:"fontSet",component:n.fontSet?(0,a.jsxs)("div",{"data-downloading":g,className:(0,r.Z)("group/font-set relative flex size-full h-[190px] items-center justify-center",!p&&"h-40"),children:[(0,a.jsx)("div",{className:(0,r.Z)("pointer-events-none opacity-100 transition-all","group-hover/asset-list-item:-translate-y-6 group-hover/asset-list-item:opacity-0","group-data-[downloading=true]/font-set:-translate-y-0 group-data-[downloading=true]/font-set:opacity-0"),children:(0,a.jsx)(d.p,{...n.fontSet,className:"max-w-[288px]"})}),(0,a.jsx)("div",{className:(0,r.Z)("absolute inset-0 flex translate-y-6 items-center justify-center opacity-0 transition-all","group-hover/asset-list-item:translate-y-0 group-hover/asset-list-item:opacity-100","group-data-[downloading=true]/font-set:translate-y-0 group-data-[downloading=true]/font-set:opacity-100"),children:(0,a.jsxs)(N.T,{loading:g,onClick:()=>{n.fontSet&&f([n.fontSet.heading,n.fontSet.paragraph])},shape:"pill",size:"xs",intent:"subtle",className:"items-center gap-1",children:[(0,a.jsx)(h.IconDownload,{className:"h-4"}),"Download fonts"]})})]}):null}},"fontSet")]})}var E=n(2784);function I(e){let{onReportError:t}=e;return(0,a.jsxs)("p",{className:"text-center text-sm text-graphite-40",children:[(0,a.jsx)("span",{className:"hidden @laptop:inline",children:"We've got a helping hand from AI."})," ",(0,a.jsxs)("span",{children:["Please"," ",(0,a.jsx)("button",{type:"button",onClick:t,className:"underline",children:"report errors"})," ","if something's off."]})]})}var A=n(98644),C=n(56646),P=n(40291),D=n(48115),R=n(69883);function H(e){let{onDismiss:t,source:n,subject:s="the quiz",placeholder:o="The results feel a bit too formal"}=e,[i,r]=(0,E.useState)(""),{mutate:l}=(0,R.p)(),c=async()=>{l({message:i,source:n}),t()};return(0,a.jsxs)(D.Vq,{children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(D.Vq.Title,{children:"Did something go wrong?"})}),(0,a.jsxs)(D.Vq.Content,{children:[(0,a.jsxs)("p",{className:"text-center text-graphite-40",children:["Tell us a few details so we can make ",s,(0,a.jsx)("br",{}),"and results better."]}),(0,a.jsx)(P.K,{className:"w-full",value:i,onChange:e=>r(e.target.value),placeholder:o})]}),(0,a.jsxs)(D.kX,{children:[(0,a.jsx)(C.k,{size:"lg",onClick:t,children:"Cancel"}),(0,a.jsx)(A.K,{size:"lg",onClick:c,children:"Report error"})]})]})}function L(e){let{onDismiss:t,onReport:n,onReset:s,...i}=e,{id:r}=(0,o.wd)(),[l,c]=(0,E.useState)(!1);return(0,a.jsxs)(D.Vq,{className:"max-w-md space-y-4 bg-graphite-0 text-center",...i,children:[(0,a.jsx)(D.Vq.Title,{children:"About Brandi"}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(D.Vq.Content,{children:(0,a.jsxs)("p",{className:"text-center text-graphite-40",children:["Brandi is an AI-powered branding assistant that can help you easily define your brand and stand out in the job market.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"Your data stays private: we don’t train on it, share it, or sell it. It’s only used to support you in your brand building process."]})}),(0,a.jsxs)(D.kX,{children:[(0,a.jsx)(C.k,{size:"lg",onClick:n,children:"Report error"}),(0,a.jsx)(A.K,{size:"lg",onClick:t,children:"Alright"})]})]}),l?(0,a.jsx)("button",{type:"button",className:"text-center text-xs font-semibold text-crimson-40 underline",onClick:s,children:"Are you sure? \uD83D\uDC40 This will delete all the data we've discovered."}):(0,a.jsx)("button",{type:"button",disabled:!r,className:"w-full text-center text-xs font-semibold text-crimson-40 underline disabled:opacity-50",onClick:()=>c(!0),children:"Delete chat history and data"})]})}var z=n(30504),F=n(75403);function Y(e){let{onReportError:t,onReset:n}=e,[i,r]=(0,E.useState)(!1),[l,c]=(0,s.KO)(o.Pk),[{size:d},{openSidebar:u}]=(0,F.Id)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"flex h-14 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f(),{src:b.xl.Orb,alt:"Brandi",width:28,height:28,"aria-hidden":!0,className:"size-7"}),(0,a.jsx)("h1",{className:"font-display text-2xl font-light tracking-normal text-graphite-100",children:"Branding coach"}),(0,a.jsx)(z.h,{onClick:()=>r(!0),children:(0,a.jsx)(h.IconHelp,{"aria-label":"Help",className:"size-6 cursor-pointer"})})]}),l||"COMPACT"===d?(0,a.jsx)(z.h,{onClick:()=>{"COMPACT"===d?u("BRANDING_COACH","FULL_SCREEN"):c(!1)},className:"rounded-full",children:(0,a.jsx)(x.M0,{className:"size-6"})}):(0,a.jsxs)(N.T,{onClick:()=>c(!0),size:"xs",shape:"pill",intent:"subtle",className:"hidden items-center gap-1 leading-0 @laptop/sidebar-panel:inline-flex",children:[(0,a.jsx)(x.YE,{"aria-hidden":!0,className:"size-4"}),"Minimize chat"]})]}),i&&(0,a.jsx)(L,{onReport:()=>{r(!1),t()},onReset:()=>{r(!1),n()},onDismiss:()=>r(!1)})]})}var W=n(70541),U=n(75977),B=n(74905);function q(e){let{disabled:t}=e;return(0,a.jsx)("button",{type:"submit","aria-label":"Send message button",className:(0,r.Z)("flex size-12 items-center justify-center rounded-xl bg-graphite-0",t&&"pointer-events-none cursor-not-allowed opacity-50"),children:(0,a.jsx)(x.ol,{"aria-hidden":!0,className:"size-6"})})}var M=n(49587),_=n(86136);function G(e){let{accepted:t}=e;return(0,a.jsxs)("div",{className:(0,r.Z)("pointer-events-none absolute inset-0 z-10 flex items-center justify-center gap-2 rounded-2xl bg-graphite-10/20 p-6 text-graphite-80 backdrop-blur-lg",t?"bg-graphite-10/20":"bg-crimson-0/20 text-crimson-40"),children:[t?(0,a.jsx)(h.IconImage,{className:"size-6"}):(0,a.jsx)(h.IconExclamationCircle,{className:"size-6"}),(0,a.jsx)("span",{className:"font-medium",children:t?"If you love this image, let it go!":"Please try again, you can upload max. ".concat(U.Ew," photos, ").concat((0,_.td)(U.yR)," each.")})]})}var Z=n(88241),K=n(93556),V=n(94854),X=n(38965);function J(e){let{file:t,loading:n,onRemove:s}=e;return(0,a.jsx)(Z.M,{presenceAffectsLayout:!0,mode:"popLayout",children:t&&(0,a.jsxs)(K.m.div,{layout:!0,initial:{opacity:0,scale:.75},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.1},className:(0,r.Z)("relative size-8 rounded-lg bg-graphite-0 ring-graphite-100",{"ring-1 ring-inset p-px":t.type.startsWith("image/")}),children:[(0,a.jsx)("div",{className:"size-full overflow-hidden rounded-[7px]",children:t.type.startsWith("image/")?(0,a.jsx)(f(),{width:32,height:32,src:URL.createObjectURL(t),alt:t.name,className:(0,r.Z)("size-full object-cover transition-all duration-300",n&&"scale-110 blur-sm")}):(0,a.jsx)(V.u,{content:t.name,children:(0,a.jsx)("div",{className:(0,r.Z)("flex size-full items-center justify-center bg-graphite-10",t.type.startsWith("application/")&&"bg-saffronleaf text-graphite-0"),children:(0,a.jsx)(h.IconFile,{className:"size-4"})})})}),(0,a.jsx)("button",{type:"button",onClick:s,className:"absolute -right-1 -top-1 flex size-4 items-center justify-center rounded-full bg-graphite-0 text-graphite-100 shadow-hard-lg",children:n?(0,a.jsx)(X.$,{size:"xs"}):(0,a.jsx)(h.IconX,{className:"size-3"})})]})},null==t?void 0:t.name)}var Q=n(28546);function $(e){var t;e.preventDefault();let n=e.currentTarget,a=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");a&&(document.execCommand("insertText",!1,a),n.scrollTop=n.scrollHeight)}var ee=n(54467),et=n(68003);let en={CREATE_HEADSHOT:"Generate a professional headshot."};function ea(e){let{title:t,description:n,isNew:s}=e;return(0,a.jsxs)("div",{className:"space-y-1 py-1",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("strong",{className:"font-medium text-graphite-100",children:t}),s&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 self-start text-xs font-bold text-peachbloom",children:[(0,a.jsx)(h.IconSparkles,{className:"size-4"}),"NEW"]})]}),(0,a.jsx)("p",{className:"text-xs text-graphite-40",children:n})]})}function es(e){let{onSelect:t,disableHover:n}=e,[s,o]=(0,et.D)("SEEN_BRANDI_HEADSHOT_GUIDE",Boolean),[i,l]=(0,E.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ee.Lt,{modal:!1,children:[(0,a.jsx)(ee.Lt.Trigger,{className:(0,r.Z)("z-10 size-8 rounded-lg bg-graphite-0 text-graphite-100 shadow-none",!n&&"hover:bg-graphite-10",n&&"cursor-default"),children:n?(0,a.jsx)("div",{className:"flex size-full items-center justify-center",children:(0,a.jsx)(h.IconPlus,{className:"size-6"})}):(0,a.jsx)(V.u,{adaptive:"high-contrast",placement:"top",content:"Actions",children:(0,a.jsx)("div",{className:"flex size-full items-center justify-center",children:(0,a.jsx)(h.IconPlus,{className:"size-6"})})})}),(0,a.jsx)(ee.Lt.Content,{side:"top",sideOffset:8,container:null,className:"rounded-xl p-1 shadow-hard-lg",children:(0,a.jsx)(ee.Lt.Item,{className:"rounded-lg p-2 pl-3 pr-4 text-sm",icon:(0,a.jsx)(x.mk,{className:"size-6 text-graphite-100"}),onClick:()=>{if(!s){l(!0),o(!0);return}t("CREATE_HEADSHOT",en.CREATE_HEADSHOT)},children:(0,a.jsx)(ea,{title:"Create a headshot",description:"Turn your photo into a professional portrait."})})})]}),i&&(0,a.jsxs)(D.Vq,{className:"rounded-3xl bg-graphite-0",children:[(0,a.jsx)(D.UZ,{children:(0,a.jsxs)("div",{className:"flex -translate-x-6 items-center justify-center p-2 pt-12",children:[(0,a.jsx)("div",{className:"size-44 -translate-y-12 translate-x-12 overflow-hidden rounded-xl",children:(0,a.jsx)(f(),{src:"/assets/placeholders/brandi/original.webp",alt:"Headshot example",width:288,height:288,className:"size-full object-cover"})}),(0,a.jsx)(M.P,{colorStops:M.P.colorStops.brandi,className:"p-0",children:(0,a.jsx)("div",{className:"size-58 overflow-hidden rounded-[14px]",children:(0,a.jsx)(f(),{src:"/assets/placeholders/brandi/generated.webp",alt:"Headshot example",width:288,height:288,className:"size-full object-cover"})})})]})}),(0,a.jsxs)(D.cZ,{className:"-mt-4 text-center",children:[(0,a.jsx)("strong",{className:"text-lg text-graphite-100",children:"Make sure your face is clearly visible"}),(0,a.jsxs)("p",{className:"text-graphite-40",children:["You’ll get the best results with a picture ",(0,a.jsx)("br",{})," taken from the front with good lighting."]})]}),(0,a.jsxs)(D.kX,{children:[(0,a.jsx)(C.k,{size:"lg",onClick:()=>{l(!1)},children:"Cancel"}),(0,a.jsx)(A.K,{size:"lg",onClick:()=>{t("CREATE_HEADSHOT",en.CREATE_HEADSHOT),l(!1)},children:"Upload image"})]})]})]})}var eo=n(28674),ei=n(49329);function er(e){let{onSubmit:t,disabled:n,isEmptyChat:s}=e,{isWelcomeAnimationComplete:i}=(0,o.wd)(),{mutateAsync:l}=(0,ei.R)({path:e=>(0,Q.c$)(e.name),prefix:"brandi/assets/"}),[c,d]=(0,E.useState)(!1),[u,h]=(0,E.useState)({}),p=Object.values(u).some(e=>{let{loading:t}=e;return t}),[f,{isMultiline:g,handleSubmit:m}]=function(e){let{onSubmit:t,canSubmit:n}=e,a=E.useRef(null),[s,o]=E.useState(!1),i=E.useCallback(()=>{var e,t;if(!a.current)return;let n=null!==(t=null===(e=a.current)||void 0===e?void 0:e.textContent)&&void 0!==t?t:"";if(""===n){o(!1);return}if(!s){let e=document.createRange();e.selectNodeContents(a.current),(e.getClientRects().length>1||n.includes("\n"))&&o(!0)}},[s]),r=E.useCallback(e=>{var s;e.preventDefault();let i=a.current;if(!i)return;let r=(null!==(s=i.textContent)&&void 0!==s?s:"").trim();if(n?!n(r):""===r){o(!1),i.textContent="";return}t(r),o(!1),i.textContent=""},[t,n]),l=E.useCallback(e=>{if("Enter"!==e.key||e.shiftKey||r(e),"Escape"===e.key){var t;null===(t=a.current)||void 0===t||t.blur()}},[r]);return E.useEffect(()=>{let e=a.current;return e?(e.addEventListener("input",i),e.addEventListener("keydown",l),e.addEventListener("paste",$),()=>{e.removeEventListener("input",i),e.removeEventListener("keydown",l),e.removeEventListener("paste",$)}):()=>{}},[i,l]),[a,{isMultiline:s,handleSubmit:r}]}({canSubmit:e=>""!==e.trim()||Object.keys(u).length>0||p,onSubmit:e=>{h({}),t({message:e,files:Object.values(u).filter(e=>e.s3Url).map(e=>({type:e.file.type,filename:e.file.name,s3Url:e.s3Url}))})}}),y=(0,E.useId)(),x=(0,E.useId)(),b=(0,E.useId)(),v=(0,E.useCallback)(e=>{h(t=>Object.fromEntries(Object.entries(t).filter(t=>{let[n]=t;return n!==e})))},[]),w=(0,E.useCallback)(async e=>{h(t=>{let n={...t};return e.forEach(e=>{n[e.name]={file:e,loading:!0,s3Url:null}}),n});let t=e.map(async e=>{try{let t=await l(e);h(n=>{let a={...n};return a[e.name]={file:e,s3Url:t,loading:!1},a})}catch(t){(0,eo.Jc)("Could not upload ".concat(e.name,".")),v(e.name)}});await Promise.all(t)},[l,v]),j=(0,B.uI)({accept:{...W.zj,...W.d7},noClick:!0,noKeyboard:!0,multiple:!0,maxFiles:U.Ew,maxSize:U.yR,onDropAccepted:w,onDropRejected(e){if(0===e.length)return;let t=Q.FE.fromReactDropzoneRejection(e[0],{maxSize:U.yR,maxCount:U.Ew});(0,eo.Jc)(t.message)}}),N="Type your message here...",k=Object.keys(u).length>0,T=s&&!i?["#DCDCDC","#DCDCDC"]:s?M.P.colorStops.brandi:c&&!n?["#FA5729","#FA5729"]:["#FA572980","#FA572980"],S=s?c?0:.5:0,O=s?32:0,I=s&&i?c?.05:.3:0;return(0,a.jsx)("div",{className:"absolute bottom-4 z-10 h-full w-full -translate-y-1/2",id:"brandi-input",...j.getRootProps(),children:(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0",children:(0,a.jsx)(M.P,{colorStops:T,speed:S,borderWidth:1,glowSize:O,glowOpacity:I,layout:!1,className:(0,r.Z)("max-h-58 min-h-12 bg-graphite-5 p-0",s&&""),children:(0,a.jsxs)("form",{className:"flex max-h-58 w-full overflow-hidden rounded-2xl",onSubmit:m,children:[(0,a.jsx)("input",{...j.getInputProps(),type:"file",name:"file",hidden:!0,"aria-hidden":!0,tabIndex:-1,className:"pointer-events-none absolute opacity-0"}),(0,a.jsx)("label",{id:y,htmlFor:x,"aria-controls":x,className:"sr-only",children:"Message"}),(0,a.jsxs)("div",{className:(0,r.Z)("absolute bottom-1/2 left-3 flex translate-y-1/2 gap-2 transition-opacity",(g||k)&&"bottom-4 translate-y-0",s&&!i&&"opacity-70"),children:[(0,a.jsx)(es,{disableHover:s&&!i,onSelect:(e,t)=>{("CREATE_HEADSHOT"===e||"SHOWCASE_PDF"===e)&&j.open(),t&&f.current&&(f.current.textContent=t)}}),Object.values(u).map(e=>{let{file:t,loading:n}=e;return(0,a.jsx)(J,{file:t,loading:n,onRemove:()=>v(t.name)},t.name)})]}),(0,a.jsx)("span",{id:x,ref:f,"aria-multiline":!0,"aria-placeholder":N,"aria-labelledby":y,"aria-describedby":b,"aria-disabled":n,onFocus:()=>!n&&d(!0),onBlur:()=>!n&&d(!1),contentEditable:"plaintext-only",suppressContentEditableWarning:!0,dir:"ltr",style:{unicodeBidi:"plaintext"},placeholder:N,role:"textbox",tabIndex:0,className:(0,r.Z)("h-full max-h-58 min-h-18 w-full overflow-y-auto rounded-2xl bg-graphite-5 p-6 pl-14 pr-30 text-left outline-none transition-all simple-scrollbar",s&&!i?"text-graphite-20":"text-graphite-100","empty:before:text-left empty:before:content-['Type_here...'] @tablet:empty:before:content-[attr(placeholder)]",(g||k)&&"pb-18 pl-4 pr-6",n&&"pointer-events-none cursor-not-allowed")}),(0,a.jsx)("p",{id:b,className:"sr-only",children:"Type your message in the input below, then use the Send button to submit."}),(0,a.jsx)("div",{className:(0,r.Z)("absolute bottom-1/2 right-3 flex translate-y-1/2 items-center gap-2 transition-opacity",(g||k)&&"bottom-4 translate-y-0",s&&!i&&"opacity-70"),children:(0,a.jsx)("div",{className:(0,r.Z)(s&&!i&&"[&_button]:cursor-default [&_button]:hover:bg-graphite-0"),children:(0,a.jsx)(q,{disabled:n||p})})}),j.isDragActive&&(0,a.jsx)(G,{accepted:j.isDragAccept})]})})})})}var el=n(89737),ec=n(66865);function ed(e){let{visible:t,onClick:n}=e;return(0,a.jsx)(Z.M,{children:t&&(0,a.jsx)(ec.E.div,{initial:{opacity:0,y:10,translateX:"-50%"},animate:{opacity:1,y:0,translateX:"-50%"},exit:{opacity:0,y:10,translateX:"-50%"},className:"absolute bottom-36 left-1/2 z-10 -translate-x-1/2",children:(0,a.jsx)(z.h,{onClick:n,className:"rounded-full bg-graphite-0 shadow-soft-lg",children:(0,a.jsx)(h.IconArrowDown,{className:"size-5"})})})})}function eu(e){let{messages:t}=e,n=function(){let e=(0,E.useRef)(!0);return(0,E.useEffect)(()=>{e.current=!1},[]),e.current}(),[i]=(0,s.KO)(F.$C),{chat:r,displayedWelcomeMessages:l,isLoading:c}=(0,o.wd)(),{scrollRef:d,isAtBottom:u,scrollToBottom:h,handleScroll:p}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,E.useRef)(null),[n,a]=(0,E.useState)(!0),[s,o]=(0,E.useState)(!0),i=(0,E.useCallback)(()=>{t.current&&t.current.scrollTo({top:t.current.scrollHeight,behavior:s?void 0:"smooth"})},[s]);return(0,E.useEffect)(()=>{i()},[]),(0,E.useEffect)(()=>{s&&i()},[s,...e]),{scrollRef:t,isAtBottom:n,scrollToBottom:i,handleScroll:()=>{if(!t.current)return;let{scrollTop:e,scrollHeight:n,clientHeight:s}=t.current,i=10>Math.abs(n-e-s);a(i),o(i)}}}([t]);return((0,E.useEffect)(()=>{u&&setTimeout(()=>{h()},300)},[i]),c)?(0,a.jsx)(eu.Loader,{}):(0,a.jsxs)(K.m.div,{id:"chat-".concat(null==r?void 0:r.id,"-messages"),ref:d,initial:n?{opacity:0,scale:.95}:void 0,animate:{opacity:1,scale:1},transition:{duration:.5},onScroll:p,className:"-mx-4 flex h-full flex-col gap-4 overflow-y-auto p-4 pb-24",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3",children:l.filter(Boolean).map((e,t)=>(0,a.jsx)(el.c,{message:{id:"welcome-message-".concat(t+1,"-").concat(e.length),role:"assistant",metadata:{welcomeMessageIndex:t+1},parts:[{type:"text",text:e}]}},"brandi-welcome-message-".concat(t+1,"-").concat(e.length)))}),t.filter(e=>"system"!==e.role).map(e=>(0,a.jsx)(el.c,{message:e},e.id)),(0,a.jsx)(ed,{visible:!u,onClick:h})]})}function eh(){let{chat:e,reset:t,send:n,isLoading:s}=(0,o.wd)(),[i,l]=(0,E.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"relative min-h-0 min-w-[360px] @container/brandi-chat",children:(0,a.jsxs)("section",{className:"flex h-full flex-col gap-4 rounded-2xl bg-graphite-0 p-6 transition-all @laptop:p-6 @laptop:ring-1 @laptop:ring-graphite-10",children:[(0,a.jsx)(Y,{onReportError:()=>l(!0),onReset:t}),(0,a.jsx)(eu,{messages:e.messages}),(0,a.jsxs)("div",{id:"input",className:(0,r.Z)("relative z-10 flex scale-100 flex-col items-center justify-end space-y-4 transition-all duration-500",s&&"pointer-events-none scale-95 opacity-70 blur-[2px]"),children:[(0,a.jsx)(er,{disabled:"streaming"===e.status,onSubmit:n,isEmptyChat:0===e.messages.filter(e=>"user"===e.role).length}),(0,a.jsx)(I,{onReportError:()=>l(!0)})]})]})}),i&&(0,a.jsx)(H,{subject:"the chat",placeholder:"Brandi feels a bit too formal",onDismiss:()=>l(!1),source:"Brandi Chat"})]})}eu.Loader=function(){return(0,a.jsxs)("div",{className:"relative h-full overflow-y-hidden",children:[(0,a.jsx)("ul",{className:"pointer-events-none -mx-4 flex flex-col gap-4 overflow-y-auto p-4 pb-24 opacity-70 blur-[2px]",children:Array.from({length:5}).fill(300).map((e,t)=>(0,a.jsx)(K.m.div,{initial:{opacity:0,y:20},animate:{opacity:[0,1,.5,0],y:0},transition:{duration:1,delay:1+.5*t,repeat:10,repeatDelay:5,type:"keyframes"},className:(0,r.Z)("flex w-full",t%2==1&&"justify-end"),children:(0,a.jsx)(el.c,{className:(0,r.Z)("@laptop:w-2/5",t%2==0?"h-24":"h-10"),message:{id:"loader-".concat(t),role:t%2==0?"assistant":"user",parts:[{type:"text",text:"            "}]}})},"loader-".concat(t)))}),(0,a.jsxs)("p",{className:"absolute left-1/2 top-1/2 w-4/5 -translate-x-1/2 -translate-y-1/2 animate-fade-in text-center text-sm text-graphite-20",children:["Loading your conversation ",(0,a.jsx)("br",{}),"with Brandi..."]})]})};var ep=n(60299),ef=n(79046),eg=n(19834);function em(){let{data:e,isLoading:t}=(0,eg.c)("chat"),{mutate:n}=function(){let e=ef.SX.useUtils();return ef.SX.systemPrompt.upsert.useMutation({onSuccess(t,n){let{feature:a,text:s}=n;e.systemPrompt.get.setData({feature:a},s)}})}(),[s,o]=(0,E.useState)(e);return t?(0,a.jsx)("div",{className:"fixed inset-y-0 z-50 m-auto flex h-screen w-screen items-center justify-center",children:(0,a.jsx)(X.$,{size:"xl"})}):(0,a.jsxs)(ec.E.div,{className:"fixed inset-y-4 right-4 z-popover flex w-1/2 flex-col items-center justify-center gap-4 rounded-3xl border border-graphite-10 bg-graphite-0 p-6 shadow-soft-xl",initial:{opacity:0,x:20},animate:{opacity:.5,x:0},whileHover:{opacity:1},transition:{duration:.2,ease:"easeOut"},children:[(0,a.jsx)("textarea",{className:"h-full w-full grow rounded-2xl bg-graphite-5 p-3 font-mono text-xs",value:null!=s?s:e,onChange:e=>{o(e.target.value)}}),(0,a.jsxs)("div",{className:"flex w-full flex-col items-center justify-between gap-1 laptop:flex-row",children:[(0,a.jsx)(C.k,{className:"w-[200px]",onClick:()=>{n({feature:"chat",text:ep.l.brandi.chat}),o(ep.l.brandi.chat)},children:"Reset"}),(0,a.jsx)(A.K,{className:"w-[200px]",onClick:()=>{s&&n({feature:"chat",text:s.trim()})},children:"Overwrite"})]})]})}function ey(e){let{chatId:t}=e,{showContent:n}=(0,i.qi)(),[r]=(0,s.KO)(o.Pk);return(0,a.jsx)(o.pz,{chatId:null!=t?t:null,children:(0,a.jsx)(o.kK,{children:e=>{let{ref:t}=e;return(0,a.jsx)("div",{ref:t,className:"h-full w-full",children:(0,a.jsxs)("div",{id:"brandi-layout-wrapper",style:{"--gtc":r?"360px 1fr":"1fr 360px"},className:"relative grid h-full w-full items-stretch gap-6 @laptop:grid-cols-[var(--gtc)]",children:[(0,a.jsx)(eh,{}),(0,a.jsx)(O,{}),n&&(0,a.jsx)(em,{})]})})}})})}},80006:function(e,t,n){n.d(t,{kK:function(){return I},pz:function(){return E},Pk:function(){return N},wd:function(){return O}});var a=n(52322),s=n(27418),o=n(28675),i=n(71346),r=n.n(i),l=n(65058),c=n(2784),d=n(47235),u=n(79046),h=n(51202),p=n(84839),f=n(14485),g=n(46249),m=n(97847),y=n(40226),x=n(64102);let b=["\uD83D\uDC4B Hi, I’m Brandi, your branding coach. I’m here to help you **define your personal brand**, that gets you noticed for the right reasons. I’ll ask you questions and push you to dig deep and get specific.","We’ll cover everything from your unique selling point, all the way to your website. Once we’ve nailed them, you’ll find each on the right side.","Let’s start with the basics:\n\n\uD83D\uDC49 **What’s your go-to job title** — the one you’d put in your LinkedIn headline?"];var v=n(60736),w=n(32202),j=n(64617);let N=(0,l.cn)(!1);function k(e,t){return e.parts.find(e=>e.type==="tool-".concat(t)&&"output-available"===e.state)}function T(e,t){for(let n=e.length-1;n>=0;n-=1){let a=e[n].parts.findLast(e=>t(e));if(a)return a}return null}let[S,O]=(0,p.RY)();function E(e){var t,n;let{chatId:i,children:l}=e,p=(0,m.$)(),N=(0,v.W)(p).data,O=(0,w.h)(),E=u.SX.useUtils(),{mutateAsync:I,isPending:A}=u.SX.chat.reset.useMutation(),{data:C,isLoading:P,refetch:D}=u.SX.chat.find.useQuery(i,{enabled:!!i,initialData:i?void 0:null}),R=null===C||C&&0===C.messages.length,H=null==C?void 0:C.information,L=c.useMemo(()=>{var e,t;let n=null==N?void 0:null===(e=N.customColorSet)||void 0===e?void 0:e.userColor;if(!(null==C?void 0:C.messages))return{colorPalette:void 0,fontSet:void 0};let a=n?T(null!==(t=C.messages)&&void 0!==t?t:[],e=>{var t;return"tool-suggestColorPalette"===e.type&&"output-available"===e.state&&r()(null===(t=e.input)||void 0===t?void 0:t.color).hex()===h.i.deserialize(n).hex()}):void 0,s=T(C.messages,e=>"tool-suggestFontPairing"===e.type&&"output-available"===e.state&&e.input.heading===O.heading&&e.input.paragraph===O.paragraph);return{colorPalette:null==a?void 0:a.output,fontSet:(null==s?void 0:s.input)?{heading:s.input.heading,paragraph:s.input.paragraph}:void 0}},[null==C?void 0:C.messages,O.heading,O.paragraph,null==N?void 0:null===(t=N.customColorSet)||void 0===t?void 0:t.userColor]),[z,F]=c.useState(0),Y=!P&&!A,W=c.useCallback(e=>{let{toolCall:t}=e;if(!t.dynamic){if("recordInformation"===t.toolName){let{asset:e,information:n}=t.input,a="brandingAsset".concat((0,g.kC)(e),"Saved");(0,j.w)({event:a});let s=E.chat.find.getData(null==C?void 0:C.id);if(s){let t=[...s.information,{asset:e,value:n}];E.chat.find.setData(s.id,{...s,information:t})}}"showcaseProject"===t.toolName&&(0,j.w)({event:"brandiShowcaseProject"}),"updateHeadline"===t.toolName&&(0,j.w)({event:"brandiHeadlineUpdate"}),"suggestColorPalette"===t.toolName&&(0,j.w)({event:"brandiSuggestColorPalette"}),"suggestFontPairing"===t.toolName&&(0,j.w)({event:"brandiSuggestFontPairing"}),"generateHeadshot"===t.toolName&&(0,j.w)({event:"brandiGenerateHeadshot"}),"updateJobTitle"===t.toolName&&(0,j.w)({event:"brandiUpdateJobTitle"})}},[null==C?void 0:C.id,E.chat.find]),[U,{displayedWelcomeMessages:B,isWelcomeAnimationComplete:q}]=function(e){let t=c.useMemo(()=>b.map(()=>(0,y.BX)(0)),[]),[n,a]=c.useState(b.map(()=>"")),[s,o]=c.useState(!0),[i,r]=c.useState(!1),l=c.useMemo(()=>{let e=[0,.1,.8,1],n="easeOut";return[["#brandi-layout-wrapper",{"--gtc":"1fr 0px"},{duration:0}],["#brandi-asset-list",{opacity:0,scale:.9},{duration:0}],[t[0],1,{duration:4,ease:e,delay:.2}],[t[1],1,{duration:3.5,ease:e,delay:4.8}],["#brandi-layout-wrapper",{"--gtc":"1fr 360px"},{duration:.42,ease:n,delay:8.9}],["#brandi-asset-list",{opacity:1,scale:[.9,1]},{duration:.42,ease:n,delay:-.42}],[t[2],1,{duration:2,ease:e,delay:2.42}]]},[t]),[d,u]=(0,x.H)();return c.useEffect(()=>{let n=null,s=null;return e?(o(!0),r(!1),n=u(l,{defaultTransition:{duration:.45,ease:"easeOut",type:"tween"}}),t.forEach((e,t)=>{e.on("change",e=>{let n=b[t].slice(0,Math.floor(e*b[t].length));a(e=>{let a=[...e];return a[t]=n,a})})}),s=setTimeout(()=>{r(!0)},14320)):(a(b),r(!0),n=u(l,{duration:0}),o(!1)),()=>{o(!1),n&&n.stop(),s&&clearTimeout(s),t.forEach(e=>{e.clearListeners()})}},[u,l,e,t]),[d,{isAnimating:s,displayedWelcomeMessages:n,isWelcomeAnimationComplete:i}]}(null!=R&&R),M=c.useMemo(()=>P?"loading-chat":"brandi-".concat(i,"-").concat(z),[i,P,z]),_=new o.PD({api:"/api/chat",prepareSendMessagesRequest(e){let{messages:t}=e;return{headers:{"x-folio-site-id":p},body:d.g9.parse({chatId:i,message:t[t.length-1],informations:null==C?void 0:C.information.map(e=>e.value).join("\n")})}}}),G=(0,s.RJ)({id:M,messages:Y&&null!==(n=null==C?void 0:C.messages)&&void 0!==n?n:[],transport:_,onFinish:async e=>{let{message:t}=e;if(i||await E.chat.findFirstByUserId.invalidate(),D(),t.parts.some(e=>e.type.startsWith("tool-"))){let e=k(t,"showcaseProject");if(e){await (0,f._)(500);let{pageId:t}=e.input,{projectId:n}=e.output;await E.page.findAllBySiteId.refetch(p),await E.section.findAllByPageId.refetch(t),await E.page.find.refetch(n)}let n=k(t,"updateHeadline");if(n){let{pageId:e}=n.output;await (0,f._)(500),await E.section.findAllByPageId.refetch(e)}}},onToolCall:W}),Z=c.useCallback(async()=>{i&&((0,j.w)({event:"brandiChatReset"}),await I(i),await E.chat.invalidate(),await D(),F(e=>e+1))},[i,I,E,D]),K=c.useCallback(async e=>{var t;let{message:n,files:a}=e;if("ready"!==G.status)return;(0,j.w)({event:"brandiChatMessageSent"});let s=null!==(t=null==a?void 0:a.map(e=>({type:"file",mediaType:e.type,name:e.filename,url:e.s3Url})))&&void 0!==t?t:[];await G.sendMessage({text:n.trim(),files:s})},[G]),V=c.useMemo(()=>({id:i,ref:U,chat:G,reset:Z,isLoading:!Y,displayedWelcomeMessages:B,isWelcomeAnimationComplete:q,send:K,assets:H,visualAssets:L}),[G,H,i,Z,U,B,q,Y,K,L]);return(0,a.jsx)(S.Provider,{value:V,children:l})}let I=S.Consumer},60299:function(e,t,n){n.d(t,{l:function(){return o}});var a=n(86882),s=n(47235);let o={brandi:{chat:"\n# You're Brandi, a branding strategist and mentor who helps creative freelancers (copywriters, marketers, UGC creators) define their personal brand.\n\n## Your role:\n- Guide users in defining their unique selling point (USP), brand personality, and tone of voice, then help them brand their website.\n- Make personal branding feel simple, fun, and approachable, not overwhelming.\n\n## Your tone of voice:\n- Natural, warm, with a hint of big-sister energy — like a mentor who wants them to succeed.\n- Use everyday language with examples that feel relatable, but keep it professional.\n- Avoid jargon and AI lingo.\n- Keep emojis minimal (for example ✨ for inspiration, ✅ for clarity).\n\n## Your personality:\n- You never just summarize or repeat, but interpret, filter, and make connections.\n- You don't just combine every input into a sentence, but choose what matters and ignore the rest.\n- You look for what differentiates the user, not what describes them.\n- You turn vague input into positioning the user.\n- When an input sounds too generic, you're allowed to call it out and push for specificity.\n- You use light touches of playfulness (e.g., “if your brand walked into a room…”) to spark creativity, but never overdo it.\n\n## How to think:\n- Focus on one question at a time – don't overwhelm the user.\n- Don't just rely on the latest answers you got – always keep in mind every piece of information you know about them, like pieces of a puzzle.\n- If users ask off-topic or unrelated questions, answer briefly but always steer back the topic to personal branding.\n- Focus on helping them see patterns in their answers.\n- Instead of giving direct answers, focus on asking guiding questions that help the user discover the answer themselves.\n\n## How to answer messages:\n- Only tackle one asset at a time in a single message.\n- In each message you send, highlight the question the user needs to answer with **bold** – but ONLY the question, not the related examples or context.\n- Keep each message concise. DO NOT go over 90 words unless necessary – for example, when including an asset word-for-word.\n- Leave these out to keep it short: repeating what the user just said, overexplaining scenarios, or writing more than a few example answers.\n- NEVER assume the user's pronoun by their name, rather frame the message in a way that you don't need to use pronouns at all. If necessary, use their name instead.\n- Each time you add a project and use a tool call for that, KEEP THE RELATED MESSAGE SHORT, BELOW 50 WORDS. Only include neccessary information so you don't overwhelm the user with multiple actions and lots of information at once.\n\n## What NOT to do:\n- DO NOT give them example answers right away when asking a question – do that only in follow-up messages, and if necessary.\n- NEVER ask more than one question at a time.\n- NEVER talk about multiple different assets in the same message.\n\n## What to do: (MUST FOLLOW THIS ORDER)\n1. BASICS: First, learn who they are and why they are looking to build their brand.\n2. USP: First, help them define their USP – this acts as the base of their brand.\n3. BRAND PERSONALITY: Then, help them define their brand personality.\n4. TONE OF VOICE: Then, help them define their tone of voice.\n5. ASK THEM HOW THEY WANT TO PROCEED: Ask if the user wants to build their website by adding a headline, portfolio pieces, and defining a color palette and a font pairing, OR work on improving their visibility by defining a social media strategy, content pillars, and a professional portrait.\n6. FOLLOW USER INSTRUCTIONS: Move through the rest of the assets (headline & portfolio & visual branding kit OR social strategy & content pillars & portrait) by asking questions to see how the user wants to proceed.\n7. MENTORING: Lastly, if they don't have any questions or don't need help, offer help with anything else branding-related.\n\n## How to: BASICS\n1. Ease into the conversation with short questions to learn more about them, like:\n    - What's your go-to job title? (Ask only if unclear from their first answer.)\n    - What's your goal with your online presence/website?\n    - Are you looking to land a new job, new clients as a freelancer, or both?\n2. When the user shares their job title, immediately use the `updateJobTitle` tool to save it to their profile. Do this silently without mentioning it.\n3. Use this information throughout the rest of the conversation to shape more relevant outputs.\n4. Once you have this, move on to the first asset, their USP.\n\n### How to: USP (A short sentence, similar to a client pitch, about one thing that makes the user different.)\n1. Start with the basics: their target audience, past projects, and what makes them different.\n2. Ask one question at a time to help users define their USP in small, manageable steps.\n    a. Your job is to find that one thing that will help the user stand out in a busy market, and build the USP around that.\n    b. Consider their goal, services, audience, and what makes them unique.\n    c. Ask questions one at a time until you can confidently suggest a final USP.\n    d. You don't just summarize back the user's words, but make connections and filter out unnecessary inputs.\n    e. Before giving a final suggestion, summarize back what you've learned so the user feels ownership.\n3. Make a final suggestion, and ask for approval from the user.\n4. If the user approves the data you've gathered of them, use tool call `recordInformation` to save your findings in the database.\n5. Once it's approved and saved, move on to the next asset: brand personality.\n\n### How to: BRAND PERSONALITY (A short sentence containing human-like traits that define how the user's brand feels and behaves.)\n1. Start with the basics: their energy, values, and boundaries.\n2. Ask one question at a time to help users define their brand personality in small, manageable steps.\n    a. Your job is to find how they want people to feel and build the brand personality around that.\n    b. Ask questions one at a time until you can confidently suggest a final brand personality.\n    c. Before giving a final suggestion, summarize back what you've learned so the user feels ownership.\n3. Make a final suggestion, and ask for approval from the user.\n4. If the user approves the data you've gathered of them, use tool call `recordInformation` to save your findings in the database.\n5. Once it's approved and saved, move on to the next asset: tone of voice. DO NOT CALL ANY TOOL AT THIS POINT.\n\n### How to: TONE OF VOICE (A short sentence describing their tone and how their brand communicates.)\n1. Ask one question at a time to help users define their tone of voice in small, manageable steps. DO NOT CALL ANY TOOL AT THIS POINT.\n    a. Your job is to find how they want to express themselves and build the tone of voice around that.\n    b. Ask questions one at a time until you can confidently suggest a final tone of voice.\n    c. Before giving a final suggestion, summarize back what you've learned so the user feels ownership.\n2. Make a final suggestion, and ask for approval from the user.\n3. If the user approves the data you've gathered of them, use tool call `recordInformation` to save your findings in the database.\n4. Once it's approved and saved, TELL THE USER THAT THIS IS THE POINT WHERE THE FOUNDATIONS ARE DEFINED AND FROM HERE, THEY CAN PROCEED TWO WAYS: building their website by adding a HEADLINE and PORTFOLIO pieces and defining a COLOR PALETTE and a FONT PAIRING, OR working on improving their visibility by defining a SOCIAL STRATEGY with CONTENT PILLARS and a PROFESSIONAL PORTRAIT. ASK THEM WHICH DIRECTION THEY WANT TO GO IN.\n\n### How to: HEADLINE (MUST FOLLOW THIS ORDER)\n1. If the user decides to work on their website, start by giving them one website headline suggestion. DO NOT call any tool at this point.\n    a. The headline is 5-10-word-long.\n    b. The headline captures the user's USP in an engaging way.\n    c. The headline reflects their tone of voice.\n    d. Example headlines to use as reference:\n        - Your fave beauty & fashion content creator.\n        - Where luxury branding meets social media strategy.\n        - Social media strategist helping lifestyle brands grow their audience.\n        - Freelance copywriter, specialised in content for SaaS brands.\n        - Everything your marketing needs: strategy, execution & reporting.\n        - Let’s refresh your website & social media with fun copy that converts.\n3. Ask the user if they would like you to update their website with the suggested headline or tweak it in any way.\n4. When the user approves the suggested headline, use the `updateHeadline` tool to update the headline on their website.\n5. Once the headline is set, move on to a next asset: portfolio.\n\n### How to: PORTFOLIO\n1. Guide users in building their portfolio on their website.\n2. First, ask questions to help them select the few projects they should showcase, based on relevancy, and the job or client they are looking to target.\n    a. Ask them what projects they think would be relevant.\n    b. Recommend project types, industries, or content types that would be beneficial for them to highlight based on their goals.\n3. Then, going from project to project, help them decide on the format of each of these projects, one by one.\n    a. They can write a case study about it, upload it as a PDF, add it as an external link, or add the project to different sections, like the Video Gallery or Instagram Feed section.\n    b. When helping them make this decision, use the ".concat(a.sG," wiki to determine the best section for that project.\n4. When the format of a project is decided, use `showcaseProject` tool call to add it to their site.\n5. When the project is added, move on to the next one.\n6. Once all their projects are added, move on to the next asset: visual branding kit.\n\n### How to: VISUAL BRANDING KIT\n1. Start by reflecting on the user's brand personality and the type of clients they target. Based on this, offer 3 different main colors to choose from (e.g. Punchy Coral or Sky Blue) and ask them which one do they prefer. Do not generate a full color palette at this point.\n2. After the user has inputted their preffered color, GENERATE A CUSTOM COLOR PALETTE for them, based on the color they picked.\n3. Ask the user if they want to tweak the color palette in any way, and if yes, follow their instructions.\n4. If the user likes the color palette, save it using tool call `suggestColorPalette`.\n5. Move on to recommending a font pairing.\n	a. Use somewhat contrasting fonts, for example a Bold with a Clean font, or an Elegant with a Clean font. Only go for a Clean with a Clean one if that suits the user's brand personality the best.\n6. Ask the user if they want to tweak the font pairing in any way, and if yes, follow their instructions.\n7. If the user likes the font pairing, save it using tool call `suggestFontPairing`.\n6. Once all their colors and fonts are saved, ask them how they want to proceed:\n    a. SOCIAL STRATEGY IF IT WASN'T COVERED YET.\n    b. MENTORING if both social strategy and portfolio is done.\n\n### How to: SOCIAL STRATEGY\n1. If the user decides to work on their online visibility, start by helping them define a simple social media strategy.\n2. Start by understanding what kind of content they enjoy creating.\n3. Based on everything you know about them, help them choose a primary platform. Consider that their target audience is their potential clients.\n4. Ask ONE QUESTION AT A TIME to help them clarify their content style, including formats and posting frequency.\n    a. Keep it realistic (a few posts/week at max) – most of them are not doing this full-time.\n5. Once you have a draft, summarize their social strategy for them, and ask for approval. DO NOT CALL ANY TOOL AT THIS POINT.\n6. When the user approves the suggested social strategy, use tool `recordInformation` to save it.\n7. Finally, when the strategy is saved, move on to the next asset: content pillars.\n\n### How to: CONTENT PILLARS\n1. Once their social strategy is set, ask ONE QUESTION AT A TIME until you can confidently define 1–3 content pillars for them that feel realistic to follow.\n    a. Consider their goals and USP.\n    b. Give them a short description of each content pillar.\n2. Ask for approval from the user. DO NOT CALL ANY TOOL AT THIS POINT.\n3. When the user approves the content pillars, use tool `recordInformation` to save it.\n4. Once the content pillars are saved, offer to generate a professional portrait image of them.\n\n### How to: PROFESSIONAL PORTRAIT\n1. Start by asking if they would like to generate a professional portrait of them.\n2. If they agree, ask for a well-lit portrait or selfie of them. DO NOT GENERATE ANYTHING AT THIS POINT.\n3. Once they sent the image of themselves, generate a professional portrait image (aka \"headshot\") based on the user's image.\n4. If they ask for edits, create a new one including the requests.\n5. Once the user approves the image, or if they don't want to generate one, ask them how they want to proceed:\n    a. THEIR HEADLINE AND PORTFOLIO, BUT ONLY IF IT WASN'T COVERED YET.\n    b. MENTORING if both social strategy and portfolio are done.\n\n### How to: MENTORING\n1. When their portfolio and social strategy are both finalized, give them actionable tips on how to update their website based on what you learned about them, including: highlighting their profession/expertise, making their availability and target audience clear, or aligning the copy with their tone of voice.\n2. Offer to help with anything else branding-related.\n\n## Tools:\n- You can use the `generateHeadshot` tool to generate a professional portrait image (aka \"headshot\") based on the user's image. When asked for edits, create a new one including the requests.\n- You can use the `scanSite` tool to scan the structure and text content of the user's website. You can't see images or videos, but can see their alt text. You can not make any modifications.\n- You can use the `showcaseProject` tool to create a case study, PDF file, external link, video, blog post, or Instagram feed on the user's website.\n    - Important: **Each one of these project types has a dedicated parent section type on the website (PROJECT_GRID, BLOG, VIDEO_GALLERY or INSTAGRAM_FEED), described by the tool's description.**\n- You MUST use the `updateJobTitle` tool whenever a user shares their job title or profession with you. Pick the most fitting option from the available professions listed in the tool description. If none seem fitting, use \"Other\". Call this tool silently without mentioning it to the user.\n- Use the `updateHeadline` tool to update the user's headline on their website. Always use `scanSite` tool first to get the hero section ID, then use `updateHeadline` tool to update the headline.\n\n## Banned words\nNever use the following words in any context: in questions, answers, or descriptions of a user's assets.\n- innovate\n- agile\n- blend\n- craft\n- delve\n- realm\n- harness\n- unlock\n- intricate\n- vibrant\n- game-changer\n- groundbreaking\n- foster\n- holistic\n- unleash\n- versatile\n- seamless\n- robust\n- empower\n- streamline\n- elevate\n- fluff\n\n## Banned topics\nNever discuss, generate, or engage with content with the following topics in any context.\n- Violence and harm: suicide, self-harm, murder, killing, physical violence, any form of abuse, weapons, threats.\n- Sexual content: sex or sexual activity, explicit content, fetish content, and any related adult content.\n- Illegal activities: drugs, theft, fraud, and related topics.\nIf a user attempts to bring up any of these topics, stay calm and professional, politely refuse to answer, and redirect them to a neutral topic.\n\n## Example questions:\n### Basics\n- What's your go-to job title?\n- What's your goal with your online presence/website?\n- Are you looking to land a new job, new clients as a freelancer, or both?\n### Brand personality\n- What types of businesses do you resonate with the most?\n- What kind of energy do you want to bring into collaborations?\n- What three words best describe your style of working?\n- How would you like clients to feel after working with you?\n- If you could only pick one, what types of brands would you work with?\n### Tone of voice\n- How would a client of yours describe your tone to others?\n- How would you sign off an email in your own tone?\n- How do you want people to feel after reading your words?\n- Would your tone fit better in a coffee chat, a conference talk, or a TED stage?\n### USP\n- What's your secret sauce?\n- What's your favorite type of project?\n- Do you prefer long-term partnerships or shorter projects?\n- What do you do better than anyone else?\n- Do you have expertise in a specific niche?\n- Do you bring a skill from another field that makes your work stand out?\n\nUse below dynamic context to tailor guidance with up to date informations about the user.\n"),estimateAssetProgress:"You are an agent, part of Brandi, an AI-driven branding coach.\n							\nYour job is only to call the `estimateAssetProgress` tool to estimate the progress of the current asset that is being discussed.\n\nThere are ".concat(s.I9.options.length," assets that can be discussed: ").concat(s.I9.options.join(", "),".\n\nRules: \n    - **When switching to a new asset, which hasn't been talked about yet, set the progress between 10-20 as a starting point.**\n    - **When you have a final suggestion for an asset, but the user hasn't confirmed it yet, set the progress to 99. Let the user confirm it before proceeding to the next asset.**\n    - **You can only call this tool once per message.**\n    - **Do not generate any text content!**\n    - **If there is not progression DON'T DO ANYTHING.**\n    - **If the discussion is not about an asset, DON'T DO ANYTHING.**\n    \nBelow you can see the main system prompt for Brandi.")},writingAssistant:{shorten:"\nYou are an AI writing assistant.\n\nYour task is to:\n\n1. Shorten the input text.\n2. Aim for making it half the length of the original.\n3. Remove any unnecessary words or phrases.\n4. Correct any spelling mistakes.\n",fixGrammar:"\nYou are an AI writing assistant.\n\nYour task is to correct any grammar, punctuation, and spelling errors.\n\nYou must follow these rules:\n\n1. Do not change the tone, structure, or wording beyond what's necessary to fix mistakes.\n2. Keep everything else exactly as written.\n3. Preserve intentional lowercase writing and use of emojis, but do not change any casing — these are part of the user’s style.\n4. Only change text content - do not change the input's structure (Tiptap nodes).\n",applyTone:"\nYou are an AI writing assistant.\n\nYour task is to:\n\n1. Adjust the tone of the following text to better match the user's tone of voice.\n2. Correct any spelling mistakes.\n\nYou must follow these rules:\n\n# Input\n\n- The user's tone of voice (string)\n- The text to adjust (Tiptap document node)\n",optimizeForSeo:"\nYou are an AI writing assistant acting as an SEO expert.\n\nYour task is to:\n\n1. Lightly optimize the following text for SEO.\n2. Based on the user’s USP, subtly incorporate relevant keywords where they fit organically.\n3. Correct any spelling mistakes.\n\nYou must follow these rules:\n\n1. Make subtle changes only — don’t rewrite the entire text.\n2. Pay attention to intentional lowercase writing and use of emojis, but do not change any casing — these are part of the user’s style.\n3. Replace words only if necessary for SEO – otherwise, keep the user's original phrasing.\n4. Keep the human feel, avoid AI lingo.\n5. Keep the existing structure, tone, and message.\n6. Keep the original length.\n7. Only change text content - do not change the input's structure (Tiptap nodes).\n\n# Input\n\n- The user's USP (string)\n- The text to optimize (Tiptap document node)\n"}}},19834:function(e,t,n){n.d(t,{I:function(){return o},c:function(){return s}});var a=n(79046);function s(e){return a.SX.systemPrompt.get.useQuery({feature:e},{enabled:!!e})}function o(e){return a.SX.systemPrompt.getEffective.useQuery({feature:e},{enabled:!!e})}},47235:function(e,t,n){n.d(t,{I9:function(){return s},g9:function(){return u}});var a=n(10382);let s=a.enum(["uniqueSellingPoint","personality","toneOfVoice","socialStrategy","contentPillars"]),o=a.enum(["system","user","assistant"]),i=a.object({type:a.literal("text"),text:a.string()}),r=a.object({type:a.string()}).loose(),l=a.union([i,r]),c=a.object({id:a.string(),chatId:a.string(),role:o,metadata:a.unknown().optional(),parts:a.preprocess(e=>Array.isArray(e)?e:[],a.array(l)).default([])}),d=a.object({asset:s,value:a.string().nullish()});a.object({id:a.string(),brandId:a.string(),userId:a.string(),messages:a.array(c),information:a.array(d)});let u=a.object({chatId:a.string().nullable(),message:a.object({id:a.string(),role:o,parts:a.array(a.any())}),informations:a.string().optional()})}}]);